patch:
  engine/filters:
    - lua_filter@corrector                          # é”™éŸ³é”™å­—æç¤º
    - lua_filter@autocap_filter                     # è‹±æ–‡è‡ªåŠ¨å¤§å†™
    - lua_filter@pin_cand_filter                    # ç½®é¡¶å€™é€‰é¡¹ï¼ˆé¡ºåºè¦æ±‚ï¼šç½®é¡¶å€™é€‰é¡¹ > Emoji > ç®€ç¹åˆ‡æ¢ï¼‰
    - lua_filter@long_word_filter  # å¢åŠ é•¿è¯ä¼˜å…ˆ
    - simplifier@emoji                              # Emoji
    - simplifier@traditionalize                     # ç®€ç¹åˆ‡æ¢
    - lua_filter@search@radical_pinyin              # éƒ¨ä»¶æ‹†å­—è¾…ç 
    - lua_filter@reduce_english_filter              # é™ä½éƒ¨åˆ†è‹±è¯­å•è¯åœ¨å€™é€‰é¡¹çš„ä½ç½®
    - lua_filter@is_in_user_dict                    # æ˜¯å¦ç»™åœ¨ç”¨æˆ·è¯åº“ä¸­çš„å¢åŠ æ˜Ÿå·
    - lua_filter@*aux_code@flypy_full               # RIME è¾“å…¥æ³•è¾…åŠ©ç ä¸éŸ³å½¢åˆ†ç¦»æ’ä»¶
    - reverse_lookup_filter@radical_reverse_lookup  # éƒ¨ä»¶æ‹†å­—æ»¤é•œ
    - uniquifier                                    # å»é‡
    # - lua_filter@*merge_comment                      # æ³¨é‡Šåˆå¹¶

  engine/processors/@before 0: predictor

  engine/translators:
    - predict_translator
    - lua_translator@*all_time
    - lua_translator@*commit_history
    - punct_translator
    - script_translator
    - lua_translator@date_translator    # æ—¶é—´ã€æ—¥æœŸã€æ˜ŸæœŸ
    - lua_translator@lunar              # å†œå†
    - table_translator@custom_phrase    # è‡ªå®šä¹‰çŸ­è¯­ custom_phrase_double.txt
    - table_translator@melt_eng         # è‹±æ–‡è¾“å…¥
    - table_translator@cn_en            # ä¸­è‹±æ··åˆè¯æ±‡
    - table_translator@radical_lookup   # éƒ¨ä»¶æ‹†å­—åæŸ¥
    - lua_translator@unicode            # Unicode
    - lua_translator@number_translator  # æ•°å­—ã€é‡‘é¢å¤§å†™
    - lua_translator@force_gc           # æš´åŠ› GC
    - lua_translator@*calculator_translator
    - lua_translator@*calculator
    
    

        
  # è®¡ç®—å™¨
  recognizer/patterns/expression: "^=.*$"
  # ä¸Šå±å†å²
  recognizer/patterns/history: "^Vhs$"
    
    
  # å¢åŠ æ˜Ÿå·ï¼štrue
  is_in_user_dict: true

  # å½¢ç è¾…åŠ©æ˜¯å¦æ˜¾ç¤º
  key_binder/show_aux_notice: true
  
  # å¼ºåˆ¶åˆ è¯ï¼Œå°±æ˜¯åˆ é™¤å½“å‰æ‰“çš„æ‰€æœ‰æœªä¸Šå±çš„å†…å®¹
  drop_cand: "Control+d"
    

  # é•¿è¯ä¼˜å…ˆè®¾ç½®ä¸ºæå‡ 10 ä¸ªè¯åˆ°ç¬¬ 2 ä¸ªä½ç½®ï¼Œ1ä¼šå¯¼è‡´å¾ˆå¤šè‡ªåŠ¨è”æƒ³è¯ï¼Œä¸å¥½ç”¨
  long_word_filter:
    count: 10
    idx: 2
    
  # åŒæ‹¼ä¸è½¬æ¢ä¸ºå…¨æ‹¼ç¼–ç 
  translator/preedit_format: []
  
  # è‡ªå®šä¹‰â€œRIME è¾“å…¥æ³•è¾…åŠ©ç ä¸éŸ³å½¢åˆ†ç¦»æ’ä»¶â€çš„è§¦å‘ç¬¦å·ï¼Œè‹¥æ²¡æœ‰ä¸‹é¢çš„è¡¥ä¸ï¼Œåˆ™é»˜è®¤ä¸ºåˆ†å·;ï¼Œä¸”åº”è¯¥æ·»åŠ ;ä¸ç›´æ¥ä¸Šå±
  #  key_binder/+:
  #    aux_code_trigger: ""
  
  # @ç¬¦å·å¢åŠ é‚®ç®±åç¼€
  punctuator/half_shape/+:
    '@':
     - '@'
     - '@gmail.com'
     - '@outlook.com'
     - '@qq.com'
     - '@163.com'
    '[':
     - 'ã€”'
     - 'ï½›'
     - 'ã€–'
     - 'ã€'
    ']':
     - 'ã€•'
     - 'ï½'
     - 'ã€—'
     - 'ã€'


  
  
  # å¢åŠ @å’Œã€”ã€•ä¸ç›´æ¥ä¸Šå±ï¼Œä»¥ä¾¿è¯»å–é‚®ç®±åç¼€ï¼Œæ·»åŠ ;ä»¥è§¦å‘å½¢ç 
  speller/alphabet/+: zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA@ã€”ã€•;
    
  # xform å˜å½¢æ”¹ä¸º derive æ´¾ç”Ÿï¼Œä»¥å®ç°å…¨æ‹¼åŒæ‹¼æ··åˆè¾“å…¥
  speller/algebra:
    - derive/^([jqxy])u$/$1v/
    - derive/^([aoe])([ioun])$/$1$1$2/
    - derive/^([aoe])(ng)?$/$1$1$2/
    - derive/iu$/â“†/
    - derive/(.)ei$/$1â“Œ/
    - derive/uan$/â“‡/
    - derive/[uv]e$/â“‰/
    - derive/un$/â“/
    - derive/^sh/â“Š/
    - derive/^ch/â’¾/
    - derive/^zh/â“‹/
    - derive/uo$/â“„/
    - derive/ie$/â“…/
    - derive/(.)i?ong$/$1â“ˆ/
    - derive/ing$|uai$/â“€/
    - derive/(.)ai$/$1â’¹/
    - derive/(.)en$/$1â’»/
    - derive/(.)eng$/$1â’¼/
    - derive/[iu]ang$/â“/
    - derive/(.)ang$/$1â’½/
    - derive/ian$/â“‚/
    - derive/(.)an$/$1â’¿/
    - derive/(.)ou$/$1â“/
    - derive/[iu]a$/â“/
    - derive/iao$/â“ƒ/
    - derive/(.)ao$/$1â’¸/
    - derive/ui$/â“‹/
    - derive/in$/â’·/
    - xlit/â“†â“Œâ“‡â“‰â“â“Šâ’¾â“„â“…â“ˆâ’¹â’»â’¼â’½â’¿â“€â“â“â“â’¸â“‹â’·â“ƒâ“‚/qwrtyuiopsdfghjklzxcvbnm/
    
  # è‡ªå®šä¹‰çŸ­è¯­
  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase_double  # éœ€è¦æ‰‹åŠ¨åˆ›å»º custom_phrase_double.txt æ–‡ä»¶
    db_class: stabledb
    enable_completion: false # è¡¥å…¨æç¤º
    enable_sentence: false   # ç¦æ­¢é€ å¥
    initial_quality: 99      # custom_phrase çš„æƒé‡åº”è¯¥æ¯” pinyin å’Œ melt_eng å¤§
    
  # éƒ¨ä»¶æ‹†å­—æ»¤é•œ
  radical_reverse_lookup:
    tags: [ radical_lookup ]
    # dictionary ä¸ºæ‹¼éŸ³æ ‡æ³¨æ¥æºã€‚ç›®å‰æ˜¯æ˜¾ç¤ºæœ¬æ–¹æ¡ˆè¯åº“çš„æ³¨éŸ³ï¼Œå¯å»éƒ¨ä»¶æ‹†å­—æ–¹æ¡ˆä¸‹è½½æ›´å…¨çš„ã€å¸¦å£°è°ƒçš„ã€å·²ç¼–è¯‘å¥½çš„è¯å…¸
    # https://github.com/mirtlecn/rime-radical-pinyin?tab=readme-ov-file#%E5%8F%8D%E6%9F%A5%E5%B8%A6%E5%A3%B0%E8%B0%83%E6%B3%A8%E9%9F%B3
    dictionary: kMandarin # zdict
    # dictionary: rime_ice
    # comment_format:     # è‡ªå®šä¹‰ commentï¼Œä¾‹å¦‚åœ¨å·¦å³åŠ ä¸Šæ‹¬å·
    #  - xform/^/(/
    #  - xform/$/)/


  # å…«è‚¡æ–‡
  # grammar:
    # language: zh-hans-t-essay-bgw
    # language: zh-hans-t-huayu-v7-bgw

# å¼€å…³
# reset: é»˜è®¤çŠ¶æ€ã€‚æ³¨é‡Šæ‰åï¼Œåˆ‡æ¢çª—å£æ—¶ä¸ä¼šé‡ç½®åˆ°é»˜è®¤çŠ¶æ€ã€‚
# states: æ–¹æ¡ˆé€‰å•æ˜¾ç¤ºçš„åç§°ã€‚å¯ä»¥æ³¨é‡Šæ‰ï¼Œä»å¯ä»¥é€šè¿‡å¿«æ·é”®åˆ‡æ¢ã€‚
# abbrev: é»˜è®¤çš„ç¼©å†™å– states çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œabbrev å¯è‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦
  switches:
    - name: ascii_mode
      states: [ ä¸­, ï¼¡ ]
    - name: ascii_punct  # ä¸­è‹±æ ‡ç‚¹
      states: [ Â¥, $ ]
    - name: traditionalization
      states: [ ç®€, ç¹ ]
    - name: emoji
      states: [ ğŸ’€, ğŸ˜„ ]
      reset: 1
    - name: full_shape
      states: [ åŠè§’, å…¨è§’ ]
    - name: search_single_char  # search.lua çš„åŠŸèƒ½å¼€å…³ï¼Œè¾…ç æŸ¥è¯æ—¶æ˜¯å¦å•å­—ä¼˜å…ˆ
      abbrev: [è¯, å•]
      states: [æ­£å¸¸, å•å­—]
    - name: prediction
      states: [å…³é—­é¢„æµ‹, å¼€å¯é¢„æµ‹] # [ é—œé–‰é æ¸¬, é–‹å•“é æ¸¬ ]
      reset: 1

  predictor:
  # predict db file in user directory/shared directory
  # default to 'predict.db'
    db: predict.db
  # max prediction candidates every time
  # default to 0, which means showing all candidates
  # you may set it the same with page_size so that period doesn't trigger next page
    max_candidates: 5
  # max continuous prediction times
  # default to 0, which means no limitation
    max_iterations: 1

  # __include: octagram   #å¯ç”¨è¯­æ³•æ¨¡å‹
  #è¯­æ³•æ¨¡å‹
# octagram:
#     __patch:
#       grammar:
#         language: amz-v3n2m1-zh-hans  
#         collocation_max_length: 5
#         collocation_min_length: 2
#       translator/contextual_suggestions: true
#       translator/max_homophones: 7
#       translator/max_homographs: 7

  # __include: octagram   #å¯ç”¨è¯­è¨€æ¨¡å‹
  #è¯­è¨€æ¨¡å‹
  octagram:
    __patch:
      grammar:
        language: wanxiang-lts-zh-hans
        collocation_max_length: 8         #å‘½ä¸­çš„æœ€é•¿è¯ç»„
        collocation_min_length: 3         #å‘½ä¸­çš„æœ€çŸ­è¯ç»„ï¼Œæ­é…è¯é¢‘å¥å…¨çš„è¯åº“æ—¶å€™åº”å½“æœ€å°å€¼è®¾ä¸º3é¿å¼€2å­—é«˜é¢‘è¯
        collocation_penalty: -10          #é»˜è®¤-12 å¯¹å¸¸è§æ­é…è¯ç»„æ–½åŠ çš„æƒ©ç½šå€¼ã€‚è¾ƒé«˜çš„è´Ÿå€¼ä¼šé™ä½è¿™äº›æ­é…è¢«é€‰ä¸­çš„æ¦‚ç‡ï¼Œé˜²æ­¢è¿‡äºé¢‘ç¹åœ°å‡ºç°æŸäº›å›ºå®šæ­é…ã€‚
        non_collocation_penalty: -12      #é»˜è®¤-12 å¯¹éæ­é…è¯ç»„æ–½åŠ çš„æƒ©ç½šå€¼ã€‚è¾ƒé«˜çš„è´Ÿå€¼ä¼šé™ä½éæ­é…è¯ç»„è¢«é€‰ä¸­çš„æ¦‚ç‡ï¼Œé¿å…ä¸åˆé€»è¾‘æˆ–ä¸å¸¸è§çš„è¯ç»„ç»„åˆã€‚
        weak_collocation_penalty: -24     #é»˜è®¤-24 å¯¹å¼±æ­é…è¯ç»„æ–½åŠ çš„æƒ©ç½šå€¼ã€‚ä¿æŒé»˜è®¤å€¼é€šå¸¸æ˜¯ä¸ºäº†æœ‰æ•ˆè¿‡æ»¤æ‰ä¸å¤ªå¸¸è§ä½†ä»ç„¶åˆç†çš„è¯ç»„ç»„åˆã€‚
        rear_penalty: -30                 #é»˜è®¤-18 å¯¹è¯ç»„ä¸­åç»­è¯è¯­çš„ä½ç½®æ–½åŠ çš„æƒ©ç½šå€¼ã€‚è¾ƒé«˜çš„è´Ÿå€¼ä¼šé™ä½æŸäº›è¯è¯­åœ¨å¥å­åéƒ¨å‡ºç°çš„æ¦‚ç‡ï¼Œé˜²æ­¢å¥å­ç»“æ„ä¸è‡ªç„¶ã€‚
      translator/contextual_suggestions: false
      translator/max_homophones: 5
      translator/max_homographs: 5

